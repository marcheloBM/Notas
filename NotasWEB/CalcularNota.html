<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Notas</title>
	<script type="text/javascript">
		function loginsession(){
			var dato1 = sessionStorage.Usuario;
			//var dato2 = sessionStorage.Clave;
			var total = sessionStorage.length;
			//alert(dato1);
			if(dato1=="21232f297a57a5a743894a0e4a801fc3"){
				
			}else{
				window.location.href='index.html';
			}
		}
		window.onload = loginsession;
	</script>
</head>

<body >
	<script>
		function cerrar(){
			sessionStorage.clear();
			window.location.href='index.html';
		}
	  function sumar(){
		  var introdu1 = document.getElementById("intro1").value;
		  var introdu2 = document.getElementById("intro2").value;
		  var introdu3 = document.getElementById("intro3").value;
		  var introTotal = parseInt(introdu1) + parseInt(introdu2) + parseInt(introdu3);
		  
		  var desarro1 = document.getElementById("desa1").value;
		  var desarro2 = document.getElementById("desa2").value;
		  var desarro3 = document.getElementById("desa3").value;
		  var desaTotal = parseInt(desarro1) + parseInt(desarro2) + parseInt(desarro3);
		  
		  var conclu1 = document.getElementById("conc1").value;
		  var conclu2 = document.getElementById("conc2").value;
		  var conclu3 = document.getElementById("conc3").value;
		  var concluTotal = parseInt(conclu1) + parseInt(conclu2) + parseInt(conclu3);
		  
		  var bibliogra1 = document.getElementById("biblio1").value;
		  var bibliogra2 = document.getElementById("biblio2").value;
		  var biblioTotal = parseInt(bibliogra1) + parseInt(bibliogra2);
		  
		  var aspectos1 = document.getElementById("aspec1").value;
		  var aspectos2 = document.getElementById("aspec2").value;
		  var aspecTotal = parseInt(aspectos1) + parseInt(aspectos2);
		  
		  
		  var intro=parseFloat(introTotal)*20;
		  var desa=parseFloat(desaTotal)*30;
		  var conc=parseFloat(concluTotal)*20;
		  var cita=parseFloat(biblioTotal)*10;
		  var form=parseFloat(aspecTotal)*20;
		  
		  var puntaje1=parseFloat(intro) + parseFloat(desa) + parseFloat(conc)+ parseFloat(cita) + parseFloat(form);
		  var puntaje1=puntaje1*0.01;
		  //los puntajes de Intro + desa + conc + cita + form
		  document.getElementById("puntaje").value =  Math.round(puntaje1* 100) / 100;
		  
		  const arrayPuntos = [
				{puntoArr: 0.0, notaArr: '1.0'},
				{puntoArr: 0.1, notaArr: '1.0'},
				{puntoArr: 0.2, notaArr: '1.1'},
				{puntoArr: 0.3, notaArr: '1.1'},
				{puntoArr: 0.4, notaArr: '1.1'},
				{puntoArr: 0.5, notaArr: '1.2'},
				{puntoArr: 0.6, notaArr: '1.2'},
				{puntoArr: 0.7, notaArr: '1.3'},
				{puntoArr: 0.8, notaArr: '1.3'},
				{puntoArr: 0.9, notaArr: '1.3'},
				{puntoArr: 1.0, notaArr: '1.4'},
				{puntoArr: 1.1, notaArr: '1.4'},
				{puntoArr: 1.2, notaArr: '1.4'},
				{puntoArr: 1.3, notaArr: '1.5'},
				{puntoArr: 1.4, notaArr: '1.5'},
				{puntoArr: 1.5, notaArr: '1.6'},
				{puntoArr: 1.6, notaArr: '1.6'},
				{puntoArr: 1.7, notaArr: '1.6'},
				{puntoArr: 1.8, notaArr: '1.7'},
				{puntoArr: 1.9, notaArr: '1.7'},
				{puntoArr: 2.0, notaArr: '1.7'},
				{puntoArr: 2.1, notaArr: '1.8'},
				{puntoArr: 2.2, notaArr: '1.8'},
				{puntoArr: 2.3, notaArr: '1.9'},
				{puntoArr: 2.4, notaArr: '1.9'},
				{puntoArr: 2.5, notaArr: '1.9'},
				{puntoArr: 2.6, notaArr: '2.0'},
				{puntoArr: 2.7, notaArr: '2.0'},
				{puntoArr: 2.8, notaArr: '2.0'},
				{puntoArr: 2.9, notaArr: '2.1'},
				{puntoArr: 3.0, notaArr: '2.1'},
				{puntoArr: 3.1, notaArr: '2.1'},
				{puntoArr: 3.2, notaArr: '2.2'},
				{puntoArr: 3.3, notaArr: '2.2'},
				{puntoArr: 3.4, notaArr: '2.3'},
				{puntoArr: 3.5, notaArr: '2.3'},
				{puntoArr: 3.6, notaArr: '2.3'},
				{puntoArr: 3.7, notaArr: '2.4'},
				{puntoArr: 3.8, notaArr: '2.4'},
				{puntoArr: 3.9, notaArr: '2.4'},
				{puntoArr: 4.0, notaArr: '2.5'},
				{puntoArr: 4.1, notaArr: '2.5'},
				{puntoArr: 4.2, notaArr: '2.6'},
				{puntoArr: 4.3, notaArr: '2.6'},
				{puntoArr: 4.4, notaArr: '2.6'},
				{puntoArr: 4.5, notaArr: '2.7'},
				{puntoArr: 4.6, notaArr: '2.7'},
				{puntoArr: 4.7, notaArr: '2.7'},
				{puntoArr: 4.8, notaArr: '2.8'},
				{puntoArr: 4.9, notaArr: '2.8'},
				{puntoArr: 5.0, notaArr: '2.9'},
				{puntoArr: 5.1, notaArr: '2.9'},
				{puntoArr: 5.2, notaArr: '2.9'},
				{puntoArr: 5.3, notaArr: '3.0'},
				{puntoArr: 5.4, notaArr: '3.0'},
				{puntoArr: 5.5, notaArr: '3.0'},
				{puntoArr: 5.6, notaArr: '3.1'},
				{puntoArr: 5.7, notaArr: '3.1'},
				{puntoArr: 5.8, notaArr: '3.1'},
				{puntoArr: 5.9, notaArr: '3.2'},
				{puntoArr: 6.0, notaArr: '3.2'},
				{puntoArr: 6.1, notaArr: '3.3'},
				{puntoArr: 6.2, notaArr: '3.3'},
				{puntoArr: 6.3, notaArr: '3.3'},
				{puntoArr: 6.4, notaArr: '3.4'},
				{puntoArr: 6.5, notaArr: '3.4'},
				{puntoArr: 6.6, notaArr: '3.4'},
				{puntoArr: 6.7, notaArr: '3.5'},
				{puntoArr: 6.8, notaArr: '3.5'},
				{puntoArr: 6.9, notaArr: '3.6'},
				{puntoArr: 7.0, notaArr: '3.6'},
				{puntoArr: 7.1, notaArr: '3.6'},
				{puntoArr: 7.2, notaArr: '3.7'},
				{puntoArr: 7.3, notaArr: '3.7'},
				{puntoArr: 7.4, notaArr: '3.7'},
				{puntoArr: 7.5, notaArr: '3.8'},
				{puntoArr: 7.6, notaArr: '3.8'},
				{puntoArr: 7.7, notaArr: '3.9'},
				{puntoArr: 7.8, notaArr: '3.9'},
				{puntoArr: 7.9, notaArr: '3.9'},
				{puntoArr: 8.0, notaArr: '4.0'},
				{puntoArr: 8.1, notaArr: '4.0'},
				{puntoArr: 8.2, notaArr: '4.1'},
				{puntoArr: 8.3, notaArr: '4.1'},
				{puntoArr: 8.4, notaArr: '4.2'},
				{puntoArr: 8.5, notaArr: '4.2'},
				{puntoArr: 8.6, notaArr: '4.3'},
				{puntoArr: 8.7, notaArr: '4.3'},
				{puntoArr: 8.8, notaArr: '4.4'},
				{puntoArr: 8.9, notaArr: '4.4'},
				{puntoArr: 9.0, notaArr: '4.5'},
				{puntoArr: 9.1, notaArr: '4.6'},
				{puntoArr: 9.2, notaArr: '4.6'},
				{puntoArr: 9.3, notaArr: '4.7'},
				{puntoArr: 9.4, notaArr: '4.7'},
				{puntoArr: 9.5, notaArr: '4.8'},
				{puntoArr: 9.6, notaArr: '4.8'},
				{puntoArr: 9.7, notaArr: '4.9'},
				{puntoArr: 9.8, notaArr: '4.9'},
				{puntoArr: 9.9, notaArr: '5.0'},
				{puntoArr: 10.0, notaArr: '5.1'},
				{puntoArr: 10.1, notaArr: '5.1'},
				{puntoArr: 10.2, notaArr: '5.2'},
				{puntoArr: 10.3, notaArr: '5.2'},
				{puntoArr: 10.4, notaArr: '5.3'},
				{puntoArr: 10.5, notaArr: '5.3'},
				{puntoArr: 10.6, notaArr: '5.4'},
				{puntoArr: 10.7, notaArr: '5.4'},
				{puntoArr: 10.8, notaArr: '5.5'},
				{puntoArr: 10.9, notaArr: '5.6'},
				{puntoArr: 11.0, notaArr: '5.6'},
				{puntoArr: 11.1, notaArr: '5.7'},
				{puntoArr: 11.2, notaArr: '5.7'},
				{puntoArr: 11.3, notaArr: '5.8'},
				{puntoArr: 11.4, notaArr: '5.8'},
				{puntoArr: 11.5, notaArr: '5.9'},
				{puntoArr: 11.6, notaArr: '5.9'},
				{puntoArr: 11.7, notaArr: '6.0'},
				{puntoArr: 11.8, notaArr: '6.1'},
				{puntoArr: 11.9, notaArr: '6.1'},
				{puntoArr: 12.0, notaArr: '6.2'},
				{puntoArr: 12.1, notaArr: '6.2'},
				{puntoArr: 12.2, notaArr: '6.3'},
				{puntoArr: 12.3, notaArr: '6.3'},
				{puntoArr: 12.4, notaArr: '6.4'},
				{puntoArr: 12.5, notaArr: '6.4'},
				{puntoArr: 12.6, notaArr: '6.5'},
				{puntoArr: 12.7, notaArr: '6.6'},
				{puntoArr: 12.8, notaArr: '6.6'},
				{puntoArr: 12.9, notaArr: '6.7'},
				{puntoArr: 13.0, notaArr: '6.7'},
				{puntoArr: 13.1, notaArr: '6.8'},
				{puntoArr: 13.2, notaArr: '6.8'},
				{puntoArr: 13.3, notaArr: '6.9'},
				{puntoArr: 13.4, notaArr: '6.9'},
				{puntoArr: 13.5, notaArr: '7.0'},
			];

		  const recorreArray = (arr,puntos) => {
			  for(let i=0; i<=arr.length-1; i++){
				  if(arr[i].puntoArr==puntos){
					  document.getElementById("NotaPa").value = arr[i].notaArr;
					  //console.log(arr[i].notaArr);
				  }			  
			  }
			}
		  var puntajecalculado = document.getElementById("puntaje").value;
		  recorreArray(arrayPuntos,puntajecalculado);
		  
		  document.getElementById("descuRetra").value = document.getElementById("retraso").value;
		  
		  var puntajecalculado2 = document.getElementById("puntaje").value;
		  var desCuenRetraso = document.getElementById("retraso").value;
		  
		  var NotaEnsayo = parseFloat(puntajecalculado2) - parseFloat(desCuenRetraso);
		  var NotaEnsayo1 = Math.round(NotaEnsayo* 100) / 100
		  
		  const recorreArray2 = (arr,puntos) => {
			  if(puntos<0){
				  document.getElementById("NotaEnsa").value = "0.0";
			  }else{
				  for(let i=0; i<=arr.length-1; i++){
					  if(arr[i].puntoArr==puntos){
						  document.getElementById("NotaEnsa").value = arr[i].notaArr;
						  //console.log(arr[i].notaArr);
					  }  
				  }
			  }
			  
			}
		  
			recorreArray2(arrayPuntos,NotaEnsayo1);
		  
		  //console.log (NotaEnsayo1);
	   	//document.writeln(puntaje1);
	  }
		function vista(){
			localStorage.Nombre = document.getElementById("nombre").value;
			localStorage.Retraso = document.getElementById("retraso").value;
			
			localStorage.intro1 = document.getElementById("intro1").value;
			localStorage.intro2 = document.getElementById("intro2").value;
			localStorage.intro3 = document.getElementById("intro3").value;
			
			localStorage.desa1 = document.getElementById("desa1").value;
			localStorage.desa2 = document.getElementById("desa2").value;
			localStorage.desa3 = document.getElementById("desa3").value;
			
			localStorage.conclu1 = document.getElementById("conc1").value;
			localStorage.conclu2 = document.getElementById("conc1").value;
			localStorage.conclu3 = document.getElementById("conc1").value;
			
			localStorage.bibli1 = document.getElementById("biblio1").value;
			localStorage.bibli2 = document.getElementById("biblio2").value;
			
			localStorage.aspecto1 = document.getElementById("aspec1").value;
			localStorage.aspecto2 = document.getElementById("aspec2").value;
			
			localStorage.punta = document.getElementById("puntaje").value;
			localStorage.notaPar = document.getElementById("NotaPa").value;
			localStorage.descuRetraso = document.getElementById("descuRetra").value;
			localStorage.notaEnsayo = document.getElementById("NotaEnsa").value;
			localStorage.comenta = document.getElementById("comentario").value;
			
			window.location.href='VistaNotas.html';
		}
		function SoloNumero(elemento){
			if(elemento.value>5){
				elemento.value='5';
			}else if(elemento.value<1){
				elemento.value='1';
			}
		}
	</script>
	
	<h1 align="center">Notas Ensayo</h1>
	
	<h2><button onclick="cerrar()">Cerrar Sesion</button></h2>
	<caption>Datos del Alumno</caption>
	
	<table border="0" WIDTH="500">
	  <tr>
		<th width="20%" scope="col">Nombre:</th>
		<th width="10%" scope="col"><input type="text" id="nombre" ></th>
		<th width="70%" scope="col">Retraso:</th>
		<th width="70%" scope="col"><input type="number" id="retraso" value="0"></th>
	  </tr>
	</table>
	
	<p></p>
	<caption>Criterios de Evaluación</caption>
	
	<table border="1" WIDTH="500">
		<tr>
		  	<th colspan="2">Criterios de evaluación</th>
	  	</tr>
		<tr>
			<th colspan="2">INTRODUCCIÓN (20%)</th>
		</tr>
		<tr>
			<td width="30%" >Planteo del problema</td>
			<td width="10%" ><input type="number" id="intro1" onKeyUp="SoloNumero(this)"></td>
		</tr>
		
		<tr>
			<td>Definición de términos relevantes</td>
			<td><input type="number" id="intro2" onKeyUp="SoloNumero(this)"></td>
		</tr>
		
		<tr>
			<td>Presentación de argumento central</td>
			<td><input type="number" id="intro3" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<th colspan="2">DESARROLLO (30%)</th>
		</tr>
		<tr>
			<td>Estructura y orden en la presentación</td>
			<td><input type="number" id="desa1" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<td>Calidad de los análisis</td>
			<td><input type="number" id="desa2" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<td>Relación con argumento central</td>
			<td><input type="number" id="desa3" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<th colspan="2">CONCLUSIONES (20%)</th>
		</tr>
		<tr>
			<td>Relación con el argumento inicial</td>
			<td><input type="number" id="conc1" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<td>Aportación personal</td>
			<td><input type="number" id="conc2" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<td>Relevancia para la discusión</td>
			<td><input type="number" id="conc3" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<th colspan="2">BIBLIOGRAFÍA (10%)</th>
		</tr>
		<tr>
			<td>Bibliografía</td>
			<td><input type="number" id="biblio1" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<td>Citas en texto</td>
			<td><input type="number" id="biblio2" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<th colspan="2">ASPECTOS FORMALES (20%)</th>
		</tr>
		<tr>
			<td>Ortografía</td>
			<td><input type="number" id="aspec1" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<td>Extensión</td>
			<td><input type="number" id="aspec2" onKeyUp="SoloNumero(this)"></td>
		</tr>
		<tr>
			<th colspan="2"><button onclick="sumar()">Calular</button></th>
		</tr>
		
		<tr>
			<td>Puntaje</td>
			<td><input type="text" id="puntaje" readonly="readonly"></td>
		</tr>
		<tr>
			<td>Nota Parcial</td>
			<td><input type="text" id="NotaPa" readonly="readonly"></td>
		</tr>
		<tr>
			<td>Descuento por retraso</td>
			<td><input type="text" id="descuRetra" readonly="readonly"></td>
		</tr>
		<tr>
			<td>Nota Ensayo</td>
			<td><input type="text" id="NotaEnsa" readonly="readonly" ></td>
		</tr>
		<tr>
			<th colspan="2">Comentario:</th>
		</tr>
		<tr>
			<td colspan="2"><textarea id="comentario" rows="6" cols="60" placeholder="Agrege un comentario"></textarea></td>
		</tr>
		<tr>
			<th colspan="2"><button onclick="vista()">Crear Vista</button></th>
		</tr>
	</table>
</body>
</html>
